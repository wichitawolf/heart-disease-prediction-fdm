{% extends 'index.html' %}
{% load static %}
{% block body %}
    <!-- Main Content -->
    <main class="main-content">
        <div class="container mt-5">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <!-- Hero Section -->
                    <div class="hero-section text-center mb-5">
                        <h1 class="hero-title">
                            <i class="fas fa-heartbeat text-primary me-3"></i>
                            Heart Disease Prediction
                        </h1>
                        <p class="hero-subtitle">
                            Get your AI-powered heart health assessment in minutes
                        </p>
                        <div class="hero-description">
                            <p class="hero-text">
                                Fill out the form below with your health information to receive an instant prediction about your heart disease risk.
                            </p>
                        </div>
                    </div>

                    <!-- Form Card -->
                    <div class="card-modern">
                        <div class="card-header text-center">
                            <h2 class="card-title">
                                <i class="fas fa-clipboard-list me-2"></i>Health Information Form
                            </h2>
                            <p class="card-subtitle">Please provide accurate information for the best prediction</p>
                        </div>
                            
                            <form method="POST" action="" class="needs-validation" novalidate>
                                {% csrf_token %}
                                
                                <!-- SECTION 1: BASIC INFORMATION -->
                                <div class="section-header">
                                    <h4 class="section-title">
                                        <i class="fas fa-user text-primary me-2"></i>
                                        Basic Information
                                    </h4>
                                    <p class="section-description">Personal details and lifestyle factors</p>
                                </div>
                                
                                <div class="row">
                                    <!-- Age -->
                                    <div class="col-md-6 mb-3">
                                        <label for="age" class="form-label">Age *</label>
                                        <input type="number" class="form-control {% if missing_fields and 'age' in missing_fields %}is-invalid{% endif %}" id="age" name="age" required min="18" max="100" placeholder="18 - 100" data-bs-toggle="tooltip" title="Age of the patient in years" value="{{ form_data.age|default:'' }}">
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Your age in years. Heart disease risk increases with age, especially after 50 years old.
                                        </div>
                                    </div>
                                    
                                    <!-- Gender -->
                                    <div class="col-md-6 mb-3">
                                        <label for="sex" class="form-label">Gender *</label>
                                        <select class="form-select {% if missing_fields and 'sex' in missing_fields %}is-invalid{% endif %}" id="sex" name="sex" required data-bs-toggle="tooltip" title="Select your biological sex">
                                            <option value="">Select Gender</option>
                                            <option value="Male" {% if form_data.sex == 'Male' %}selected{% endif %}>Male</option>
                                            <option value="Female" {% if form_data.sex == 'Female' %}selected{% endif %}>Female</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Your biological sex. Males generally have higher risk of heart disease than females.
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- BMI -->
                                    <div class="col-md-6 mb-3">
                                        <label for="bmi" class="form-label">BMI (Body Mass Index) *</label>
                                        <input type="number" class="form-control {% if missing_fields and 'bmi' in missing_fields %}is-invalid{% endif %}" id="bmi" name="bmi" required step="0.1" min="15" max="50" placeholder="18.5 - 40.0" data-bs-toggle="tooltip" title="Body Mass Index" value="{{ form_data.bmi|default:'' }}">
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> BMI = weight(kg) / height(m)². 
                                            Normal: 18.5-24.9, Overweight: 25-29.9, Obese: ≥30
                                        </div>
                                    </div>
                                    
                                    <!-- Smoking Status -->
                                    <div class="col-md-6 mb-3">
                                        <label for="smoking_status" class="form-label">Smoking Status *</label>
                                        <select class="form-select {% if missing_fields and 'smoking_status' in missing_fields %}is-invalid{% endif %}" id="smoking_status" name="smoking_status" required data-bs-toggle="tooltip" title="Your smoking history">
                                            <option value="">Select Status</option>
                                            <option value="0" {% if form_data.smoking_status == '0' %}selected{% endif %}>Non-smoker</option>
                                            <option value="1" {% if form_data.smoking_status == '1' %}selected{% endif %}>Former smoker</option>
                                            <option value="2" {% if form_data.smoking_status == '2' %}selected{% endif %}>Current smoker</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Smoking is a major risk factor for heart disease. 
                                            Current smokers have the highest risk.
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- Alcohol Use -->
                                    <div class="col-md-6 mb-3">
                                        <label for="alcohol_use" class="form-label">Alcohol Use *</label>
                                        <select class="form-select {% if missing_fields and 'alcohol_use' in missing_fields %}is-invalid{% endif %}" id="alcohol_use" name="alcohol_use" required data-bs-toggle="tooltip" title="Your alcohol consumption pattern">
                                            <option value="">Select Usage</option>
                                            <option value="0" {% if form_data.alcohol_use == '0' %}selected{% endif %}>None</option>
                                            <option value="1" {% if form_data.alcohol_use == '1' %}selected{% endif %}>Light (1-7 drinks/week)</option>
                                            <option value="2" {% if form_data.alcohol_use == '2' %}selected{% endif %}>Moderate (8-14 drinks/week)</option>
                                            <option value="3" {% if form_data.alcohol_use == '3' %}selected{% endif %}>Heavy (15+ drinks/week)</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Alcohol consumption pattern affects heart health. 
                                            Heavy drinking increases heart disease risk, while light consumption may have protective effects.
                                        </div>
                                    </div>
                                </div>

                                <!-- SECTION 2: SYMPTOMS & PAIN -->
                                <div class="section-header mt-4">
                                    <h4 class="section-title">
                                        <i class="fas fa-heartbeat text-danger me-2"></i>
                                        Symptoms & Pain Assessment
                                    </h4>
                                    <p class="section-description">Chest pain and exercise-related symptoms</p>
                                </div>

                                <div class="row">
                                    <!-- Chest Pain Type -->
                                    <div class="col-md-6 mb-3">
                                        <label for="cp" class="form-label">Chest Pain Type *</label>
                                        <select class="form-select {% if missing_fields and 'cp' in missing_fields %}is-invalid{% endif %}" id="cp" name="cp" required data-bs-toggle="tooltip" title="Type of chest pain experienced">
                                            <option value="">Select Type</option>
                                            <option value="0" {% if form_data.cp == '0' %}selected{% endif %}>Typical Angina</option>
                                            <option value="1" {% if form_data.cp == '1' %}selected{% endif %}>Atypical Angina</option>
                                            <option value="2" {% if form_data.cp == '2' %}selected{% endif %}>Non-anginal Pain</option>
                                            <option value="3" {% if form_data.cp == '3' %}selected{% endif %}>Asymptomatic</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Type of chest pain you experience:
                                            <ul class="description-list">
                                                <li><strong>Typical Angina:</strong> Chest pain caused by reduced blood flow to heart</li>
                                                <li><strong>Atypical Angina:</strong> Chest pain with different characteristics</li>
                                                <li><strong>Non-anginal Pain:</strong> Chest pain not related to heart</li>
                                                <li><strong>Asymptomatic:</strong> No chest pain symptoms</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <!-- Exercise Angina -->
                                    <div class="col-md-6 mb-3">
                                        <label for="exang" class="form-label">Exercise Angina *</label>
                                        <select class="form-select {% if missing_fields and 'exang' in missing_fields %}is-invalid{% endif %}" id="exang" name="exang" required data-bs-toggle="tooltip" title="Exercise induced angina">
                                            <option value="">Select Status</option>
                                            <option value="No" {% if form_data.exang == 'No' %}selected{% endif %}>No</option>
                                            <option value="Yes" {% if form_data.exang == 'Yes' %}selected{% endif %}>Yes</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Do you experience chest pain, pressure, or discomfort during physical activity or exercise? 
                                            This is a warning sign that your heart may not be getting enough blood flow during exertion.
                                        </div>
                                    </div>
                                </div>

                                <!-- SECTION 3: VITAL SIGNS & MEASUREMENTS -->
                                <div class="section-header mt-4">
                                    <h4 class="section-title">
                                        <i class="fas fa-stethoscope text-success me-2"></i>
                                        Vital Signs & Measurements
                                    </h4>
                                    <p class="section-description">Blood pressure, heart rate, and physical measurements</p>
                                </div>

                                <div class="row">
                                    <!-- Resting Blood Pressure -->
                                    <div class="col-md-6 mb-3">
                                        <label for="trestbps" class="form-label">Resting BP (mmHg) *</label>
                                        <input type="number" class="form-control {% if missing_fields and 'trestbps' in missing_fields %}is-invalid{% endif %}" id="trestbps" name="trestbps" required min="90" max="200" placeholder="90 - 200" data-bs-toggle="tooltip" title="Resting blood pressure in mmHg" value="{{ form_data.trestbps|default:'' }}">
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Your blood pressure when you are at rest (not exercising). 
                                            Normal: <120 mmHg, High: >140 mmHg. This measures the force of blood against artery walls.
                                        </div>
                                    </div>
                                    
                                    <!-- Max Heart Rate -->
                                    <div class="col-md-6 mb-3">
                                        <label for="thalach" class="form-label">Max Heart Rate *</label>
                                        <input type="number" class="form-control {% if missing_fields and 'thalach' in missing_fields %}is-invalid{% endif %}" id="thalach" name="thalach" required min="60" max="202" placeholder="60 - 202" data-bs-toggle="tooltip" title="Maximum heart rate achieved during exercise" value="{{ form_data.thalach|default:'' }}">
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> The highest number of heartbeats per minute you reached during a stress test or exercise. 
                                            Normal range: 100-180 bpm depending on age and fitness level.
                                        </div>
                                    </div>
                                </div>

                                <!-- SECTION 4: BLOOD TESTS & LAB RESULTS -->
                                <div class="section-header mt-4">
                                    <h4 class="section-title">
                                        <i class="fas fa-vial text-warning me-2"></i>
                                        Blood Tests & Lab Results
                                    </h4>
                                    <p class="section-description">Cholesterol, blood sugar, and blood vessel conditions</p>
                                </div>

                                <div class="row">
                                    <!-- Cholesterol -->
                                    <div class="col-md-6 mb-3">
                                        <label for="chol" class="form-label">Cholesterol (mg/dl) *</label>
                                        <input type="number" class="form-control {% if missing_fields and 'chol' in missing_fields %}is-invalid{% endif %}" id="chol" name="chol" required min="100" max="600" placeholder="100 - 600" data-bs-toggle="tooltip" title="Serum cholesterol in mg/dl" value="{{ form_data.chol|default:'' }}">
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Total cholesterol level in your blood. 
                                            Normal: <200 mg/dl, High: >240 mg/dl. High cholesterol can clog arteries and increase heart disease risk.
                                        </div>
                                    </div>
                                    
                                    <!-- Fasting Blood Sugar -->
                                    <div class="col-md-6 mb-3">
                                        <label for="fbs" class="form-label">Fasting Blood Sugar *</label>
                                        <select class="form-select {% if missing_fields and 'fbs' in missing_fields %}is-invalid{% endif %}" id="fbs" name="fbs" required data-bs-toggle="tooltip" title=">= 120 mg/dl considered high">
                                            <option value="">Select Status</option>
                                            <option value="No">Normal (< 120 mg/dl)</option>
                                            <option value="Yes">High (≥ 120 mg/dl)</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Your blood sugar level after 8+ hours of fasting (not eating). 
                                            Normal: <100 mg/dl, High: >120 mg/dl. High blood sugar can damage blood vessels.
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- Major Vessels -->
                                    <div class="col-md-6 mb-3">
                                        <label for="ca" class="form-label">Major Vessels *</label>
                                        <select class="form-select {% if missing_fields and 'ca' in missing_fields %}is-invalid{% endif %}" id="ca" name="ca" required data-bs-toggle="tooltip" title="Number of major vessels colored by fluoroscopy">
                                            <option value="">Select Count</option>
                                            <option value="0">0</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Number of major blood vessels (arteries) that have significant narrowing or blockage. 
                                            This is determined by a special X-ray test called fluoroscopy. More blocked vessels = higher heart disease risk.
                                        </div>
                                    </div>
                                    
                                    <!-- Thalassemia -->
                                    <div class="col-md-6 mb-3">
                                        <label for="thal" class="form-label">Thalassemia *</label>
                                        <select class="form-select {% if missing_fields and 'thal' in missing_fields %}is-invalid{% endif %}" id="thal" name="thal" required data-bs-toggle="tooltip" title="Type of thalassemia (genetic blood disorder)">
                                            <option value="">Select Type</option>
                                            <option value="0">Normal</option>
                                            <option value="1">Fixed Defect</option>
                                            <option value="2">Reversible Defect</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> Thalassemia is a genetic blood disorder that affects hemoglobin production:
                                            <ul class="description-list">
                                                <li><strong>Normal:</strong> No thalassemia present</li>
                                                <li><strong>Fixed Defect:</strong> Permanent blood flow problem in heart muscle</li>
                                                <li><strong>Reversible Defect:</strong> Temporary blood flow problem that can improve</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- SECTION 5: ECG & STRESS TEST RESULTS -->
                                <div class="section-header mt-4">
                                    <h4 class="section-title">
                                        <i class="fas fa-chart-line text-info me-2"></i>
                                        ECG & Stress Test Results
                                    </h4>
                                    <p class="section-description">Heart electrical activity and exercise test measurements</p>
                                </div>

                                <div class="row">
                                    <!-- ECG Results -->
                                    <div class="col-md-6 mb-3">
                                        <label for="restecg" class="form-label">ECG Results *</label>
                                        <select class="form-select {% if missing_fields and 'restecg' in missing_fields %}is-invalid{% endif %}" id="restecg" name="restecg" required data-bs-toggle="tooltip" title="Resting electrocardiographic results">
                                            <option value="">Select Result</option>
                                            <option value="0">Normal</option>
                                            <option value="1">ST-T Wave Abnormality</option>
                                            <option value="2">Left Ventricular Hypertrophy</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> ECG (Electrocardiogram) shows your heart's electrical activity:
                                            <ul class="description-list">
                                                <li><strong>Normal:</strong> Heart rhythm is regular and healthy</li>
                                                <li><strong>ST-T Wave Abnormality:</strong> Unusual electrical patterns in heart</li>
                                                <li><strong>Left Ventricular Hypertrophy:</strong> Heart muscle is thickened</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <!-- ST Depression -->
                                    <div class="col-md-6 mb-3">
                                        <label for="oldpeak" class="form-label">ST Depression *</label>
                                        <input type="number" class="form-control {% if missing_fields and 'oldpeak' in missing_fields %}is-invalid{% endif %}" id="oldpeak" name="oldpeak" required step="0.1" min="-2.6" max="6.2" placeholder="-2.6 to 6.2" data-bs-toggle="tooltip" title="ST depression induced by exercise relative to rest" value="{{ form_data.oldpeak|default:'' }}">
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> A measurement from your ECG during exercise. It shows how much the heart's electrical pattern changes during physical activity compared to rest. 
                                            Higher values may indicate heart problems.
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- ST Slope -->
                                    <div class="col-md-6 mb-3">
                                        <label for="slope" class="form-label">ST Slope *</label>
                                        <select class="form-select {% if missing_fields and 'slope' in missing_fields %}is-invalid{% endif %}" id="slope" name="slope" required data-bs-toggle="tooltip" title="Slope of the peak exercise ST segment">
                                            <option value="">Select Slope</option>
                                            <option value="0">Upsloping</option>
                                            <option value="1">Flat</option>
                                            <option value="2">Downsloping</option>
                                        </select>
                                        <div class="input-description">
                                            <i class="fas fa-info-circle text-info me-1"></i>
                                            <strong>What is this?</strong> The direction of the ST segment on your ECG during peak exercise:
                                            <ul class="description-list">
                                                <li><strong>Upsloping:</strong> ST segment goes upward (usually normal)</li>
                                                <li><strong>Flat:</strong> ST segment is horizontal (may indicate problems)</li>
                                                <li><strong>Downsloping:</strong> ST segment goes downward (may indicate heart disease)</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-center mt-4">
                                    <button type="submit" class="btn-modern btn-primary btn-lg me-3">
                                        <i class="fas fa-brain me-2"></i>Get AI Prediction
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
    // Form validation and error handling
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            // Apply form data preservation for all fields
            {% if form_data %}
                // Preserve all input field values
                const formData = {{ form_data|safe }};
                
                // Handle text/number inputs
                document.querySelectorAll('input[type="text"], input[type="number"]').forEach(function(input) {
                    if (formData[input.name]) {
                        input.value = formData[input.name];
                    }
                });
                
                // Handle select dropdowns
                document.querySelectorAll('select').forEach(function(select) {
                    if (formData[select.name]) {
                        const option = select.querySelector(`option[value="${formData[select.name]}"]`);
                        if (option) {
                            option.selected = true;
                        }
                    }
                });
            {% endif %}
            
            // Apply missing field highlighting only after form submission
            {% if missing_fields %}
                const missingFields = {{ missing_fields|safe }};
                // Only apply if this is after a form submission (missing_fields exists)
                missingFields.forEach(function(fieldName) {
                    const field = document.querySelector(`[name="${fieldName}"]`);
                    if (field) {
                        field.classList.add('is-invalid');
                        // Scroll to first missing field
                        if (fieldName === missingFields[0]) {
                            field.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            field.focus();
                        }
                    }
                });
            {% endif %}
            
            // Standard form validation
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        });
    })();

    // Enable tooltips
    document.addEventListener('DOMContentLoaded', function() {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
    </script>

    <style>
    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 4rem 2rem;
        border-radius: 25px;
        margin-bottom: 3rem;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        position: relative;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        opacity: 0.3;
    }

    .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
        position: relative;
        z-index: 1;
        letter-spacing: -0.02em;
    }

    .hero-subtitle {
        font-size: 1.4rem;
        opacity: 0.95;
        margin-bottom: 1.5rem;
        font-weight: 500;
        position: relative;
        z-index: 1;
    }

    .hero-description {
        position: relative;
        z-index: 1;
    }

    .hero-text {
        font-size: 1.1rem;
        opacity: 0.9;
        margin: 0;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .hero-title i {
        color: #ff6b6b;
        filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
        animation: heartbeat 2s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    /* Card Enhancements */
    .card-modern {
        border-radius: 25px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        border: none;
        overflow: hidden;
        background: white;
    }

    .card-header {
        background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
        color: white;
        border: none;
        padding: 2.5rem;
    }

    .card-title {
        margin: 0;
        font-size: 1.8rem;
        font-weight: 700;
    }

    .card-subtitle {
        margin: 0.8rem 0 0 0;
        opacity: 0.9;
        font-size: 1.1rem;
    }

    /* Custom styles for input descriptions */
    .input-description {
        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        border: 1px solid #bbdefb;
        border-radius: 8px;
        padding: 12px;
        margin-top: 8px;
        font-size: 0.9em;
        color: #424242;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
    }

    .input-description:hover {
        background: linear-gradient(135deg, #e1f5fe 0%, #fce4ec 100%);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        transform: translateY(-1px);
    }

    .input-description strong {
        color: #1976d2;
        font-weight: 600;
    }

    .input-description i {
        color: #1976d2;
    }

    .description-list {
        margin: 8px 0 0 0;
        padding-left: 20px;
    }

    .description-list li {
        margin-bottom: 4px;
        color: #555;
        font-size: 0.85em;
        line-height: 1.4;
    }

    .description-list li strong {
        color: #1565c0;
        font-weight: 600;
    }

    /* Animation for descriptions */
    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .input-description {
        animation: slideInUp 0.5s ease-out;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .hero-section {
            padding: 3rem 1.5rem;
            margin-bottom: 2rem;
        }
        
        .hero-title {
            font-size: 2.5rem;
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
        }
        
        .hero-text {
            font-size: 1rem;
        }
        
        .input-description {
            padding: 10px;
            font-size: 0.85em;
        }
        
        .description-list {
            padding-left: 15px;
        }
        
        .description-list li {
            font-size: 0.8em;
        }
    }

    @media (max-width: 576px) {
        .hero-section {
            padding: 2rem 1rem;
        }
        
        .hero-title {
            font-size: 2rem;
        }
        
        .hero-subtitle {
            font-size: 1rem;
        }
        
        .hero-text {
            font-size: 0.9rem;
        }
        
        .card-header {
            padding: 2rem 1.5rem;
        }
    }

    /* Focus effect for form controls */
    .form-control:focus + .input-description,
    .form-select:focus + .input-description {
        border-color: #1976d2;
        box-shadow: 0 0 0 0.2rem rgba(25, 118, 210, 0.25);
    }

    /* Section Headers */
    .section-header {
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 15px;
        border-left: 5px solid #1976d2;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .section-title {
        margin: 0;
        font-size: 1.4rem;
        font-weight: 700;
        color: #2c3e50;
        display: flex;
        align-items: center;
    }

    .section-description {
        margin: 0.5rem 0 0 0;
        color: #6c757d;
        font-size: 1rem;
        font-style: italic;
    }

    /* Enhanced form styling */
    .form-label {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 8px;
    }

    .form-control, .form-select {
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        padding: 12px;
        transition: all 0.3s ease;
    }

    .form-control:focus, .form-select:focus {
        border-color: #1976d2;
        box-shadow: 0 0 0 0.2rem rgba(25, 118, 210, 0.25);
    }

    /* Enhanced error states */
    .form-control.is-invalid, .form-select.is-invalid {
        border-color: #dc3545;
        background-color: #fff5f5;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
        animation: shake 0.5s ease-in-out;
    }

    .form-control.is-invalid:focus, .form-select.is-invalid:focus {
        border-color: #dc3545;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    }


    /* Shake animation for missing fields */
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    /* Error message styling */
    .alert-danger {
        background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
        border: 1px solid #f5c6cb;
        border-radius: 10px;
        color: #721c24;
        font-weight: 500;
        margin-bottom: 1.5rem;
        animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Card enhancements */
    .card-modern {
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        border: none;
        overflow: hidden;
    }

    .card-header {
        background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
        color: white;
        border: none;
        padding: 25px;
    }

    .card-title {
        margin: 0;
        font-size: 1.8em;
        font-weight: 700;
    }
    </style>
{% endblock %}
